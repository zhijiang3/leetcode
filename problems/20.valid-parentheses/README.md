# Valid Parentheses

> 题目地址: [https://leetcode-cn.com/problems/valid-parentheses/](https://leetcode-cn.com/problems/valid-parentheses/)

## 题目描述

给定一个只包括 `'('`，`')'`，`'{'`，`'}'`，`'['`，`']'` 的字符串，判断字符串是否有效。

有效字符串需满足：

1. 左括号必须用相同类型的右括号闭合。
2. 左括号必须以正确的顺序闭合。

注意空字符串可被认为是有效字符串。

示例 1:

```
输入: "()"
输出: true
```

示例 2:

```
输入: "()[]{}"
输出: true
```

示例 3:

```
输入: "(]"
输出: false
```

示例 4:

```
输入: "([)]"
输出: false
```

示例 5:

```
输入: "{[]}"
输出: true
```

------

## 题解

在本题中，假设 `"("` 为最后一个左括号，如果给定的字符串是有效的话，那么一定是 `")"` 最先出现的，也就是说三种类型的括号，哪种左括号在最后进入，那么哪种右括号就最先出现，对于这种**后进先出**的结构，可以使用栈来处理。

我们只需要在遇到左括号时进栈，在遇到右括号时出栈并对比右括号和出栈的值是否成对即可，如：`"{[]}"`

```
              stack
"{[]}"        |---|
 ↑            | { |
              |---|
# 把 { 添加到 stack

              stack
              |---|
"{[]}"        | [ |
  ↑           |---|
              | { |
              |---|
# 把 [ 添加到 stack

              stack
"{[]}"        |---|
   ↑          | { |
              |---|
# 遇到了 ]，把栈顶的 [ 弹出并与 ] 比较是否同类型的括号

"{[]}"        stack
    ↑         |---|
# 遇到了 }，把栈顶的 { 弹出并与 } 比较是否同类型的括号

# 此时 stack 空了，说明给定的字符串是有效的
```

### 代码实现

```js
function isValid(s) {
  const map = {
    "]": "[",
    "}": "{",
    ")": "("
  };
  const stack = [];

  for (let i = 0; i < s.length; i++) {
    if (map[s[i]]) {
      if (stack.pop() !== map[s[i]]) return false;
    } else {
      stack.push(s[i]);
    }
  }

  return stack.length === 0;
}
```

### 复杂度分析

* 时间复杂度：$ O(n) $.
* 空间复杂度：$ O(n) $.
