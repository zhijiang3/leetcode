# Valid Number

> 题目地址: [https://leetcode-cn.com/problems/valid-number/](https://leetcode-cn.com/problems/valid-number/)

## 题目描述
验证给定的字符串是否可以解释为十进制数字。

例如:

`"0"` => `true`
`" 0.1 "` => `true`
`"abc"` => `false`
`"1 a"` => `false`
`"2e10"` => `true`
`" -90e3   "` => `true`
`" 1e"` => `false`
`"e3"` => `false`
`" 6e-1"` => `true`
`" 99e2.5 "` => `false`
`"53.5e93"` => `true`
`" --6 "` => `false`
`"-+3"` => `false`
`"95a54e53"` => `false`

说明: 我们有意将问题陈述地比较模糊。在实现代码之前，你应当事先思考所有可能的情况。这里给出一份可能存在于有效十进制数字中的字符列表：

* 数字 0-9
* 指数 "e"
* 正/负号 "+"/"-"
* 小数点 "."

当然，在输入中，这些字符的上下文也很重要。

更新于 2015-02-10:
`C++` 函数的形式已经更新了。如果你仍然看见你的函数接收 `const char *` 类型的参数，请点击重载按钮重置你的代码。

------

## 题解

### 方法一：正则表达式

利用正则表达式去测试所有可能的情况，首先要确定**是有效数字**的情况：

```
12.34            true      # 正常的数字
-.               false     # 小数点的前面或者后面必须要有一个数字
1.               true      # 等价于 1
-.2              true      # 等价于 -0.2
1e-4232          true      # 科学计数法后可以跟着一个正负号
3e               false     # 科学计数法后必须有一个整数
```

综上，可得出需要**整数，小数以及科学计数法**这三种正则。

我们先实现整数部分的正则表达式：

```js
// 正负号 (可选), 数字 (必须), 小数点 (可选)
/^[-+]?[0-9]+\.?$/
```

然后实现小数部分的正则：

```js
// 正负号 (可选), 小数点前的数字 (可选), 小数点 和 小数点后的数字 (必须)
/^[-+]?(?:[0-9]+)?\.[0-9]+$/
```

科学计数法的正则：

```js
// 用 e 开头表示科学计数法, 正负号 (可选), 整数 (必须)
/e[-+]?[0-9]+$/
```

然后把正则组合起来即可。

#### 代码实现

```js
function isNumber(s) {
  // \s+ 是匹配空格, 在正则的前后加上是去掉前后的空格
  return /^(\s+)?[-+]?([0-9]+\.?|(?:[0-9]+)?\.[0-9]+)(e[-+]?[0-9]+)?(\s+)?$/.test(s);
}
```

#### 复杂度分析

* 时间复杂度：$ O(1) $.
* 空间复杂度：$ O(1) $.
